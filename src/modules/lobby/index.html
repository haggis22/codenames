<div ng-controller="codenames.lobbyCtrl" class="lobby">

    <div>
        <button type="button" ng-click="createGame()">Create game</button>
    </div>

    <div class="loader" ng-show="viewService.pullingGames">Pulling games...</div>


    <div class="folder-tabs">
        <div class="tab" ng-show="getActiveGames().length > 0" ng-class="{ 'active': viewService.tabs.lobby == viewConstants.TABS.LOBBY.ACTIVE }">
            <a ng-click="selectTab(viewConstants.TABS.LOBBY.ACTIVE)">Active Games</a>
        </div>
        <div class="tab" ng-show="getSetupGames().length > 0" ng-class="{ 'active': viewService.tabs.lobby == viewConstants.TABS.LOBBY.SETUP}">
            <a ng-click="selectTab(viewConstants.TABS.LOBBY.SETUP)">Setting up</a>
        </div>
        <div class="tab" ng-show="getCompleteGames().length > 0" ng-class="{ 'active': viewService.tabs.lobby == viewConstants.TABS.LOBBY.FINISHED }">
            <a ng-click="selectTab(viewConstants.TABS.LOBBY.FINISHED)">Finished</a>
        </div>
    </div>


    <div class="folder">


    <div ng-show="viewService.games">

        <div class="setup-games" ng-show="viewService.tabs.lobby == viewConstants.TABS.LOBBY.SETUP">

            <div class="games-list">

                <div class="header">
                    <div class="id">Game ID</div>
                    <div class="num-players"># Players</div>
                    <div class="created">Created</div>
                </div>                

                <div class="content">

                    <div class="game" ng-repeat="game in getSetupGames()">
                        <div class="id"><a ui-sref="main.game({ gameID: game._id })">{{ game._id }}</a></div>
                        <div class="num-players">{{ game.players.length | number:0 }}</div>
                        <div class="created">{{ game.created | date:'yyyy-MM-dd h:mm:ss a' }}</div>
                    </div>

                </div><!-- content -->

            </div><!-- games-list -->

        </div><!-- setting up -->

        <div class="active-games" ng-show="viewService.tabs.lobby == viewConstants.TABS.LOBBY.ACTIVE">

            <div class="games-list">

                <div class="header">
                    <div class="id">Game ID</div>
                    <div class="num-players"># Players</div>
                    <div class="state">State</div>
                    <div class="turn">Turn</div>
                    <div class="created">Created</div>
                </div>                

                <div class="content">

                    <div class="game" ng-repeat="game in getActiveGames()">
                        <div class="id"><a ui-sref="main.game({ gameID: game._id })">{{ game._id }}</a></div>
                        <div class="num-players">{{ game.players.length | number:0 }}</div>
                        <div class="state">{{ game.state }}</div>
                        <div class="turn" ng-class="game.turn.team"><span ng-show="game.turn.team">{{ game.turn.team }}</span></div>
                        <div class="created">{{ game.created | date:'yyyy-MM-dd h:mm:ss a' }}</div>
                    </div>

                </div><!-- content -->

            </div><!-- games-list -->

        </div><!-- active-games -->

        <div class="complete-games" ng-show="viewService.tabs.lobby == viewConstants.TABS.LOBBY.FINISHED">

            <div class="games-list">

                <div class="header">
                    <div class="id">Game ID</div>
                    <div class="num-players"># Players</div>
                    <div class="winner">Winner</div>
                    <div class="created">Created</div>
                </div>                

                <div class="content">

                    <div class="game" ng-repeat="game in getCompleteGames()">
                        <div class="id"><a ui-sref="main.game({ gameID: game._id })">{{ game._id }}</a></div>
                        <div class="num-players">{{ game.players.length | number:0 }}</div>
                        <div class="winner" ng-class="game.winner">{{ game.winner }}</div>
                        <div class="created">{{ game.created | date:'yyyy-MM-dd h:mm:ss a' }}</div>
                    </div>

                </div><!-- content -->

            </div><!-- games-list -->

        </div><!-- active-games -->

    </div><!-- ng-show="viewService.games" -->

</div>
